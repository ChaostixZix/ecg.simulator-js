<!DOCTYPE html>
<html>
<head>
    <title>ECG-JS Simple Demo</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        canvas { border: 1px solid #ccc; margin: 20px 0; }
        button { margin: 10px; padding: 10px 20px; }
    </style>
</head>
<body>
    <h1>ECG-JS Simple Demo</h1>
    <p>This demonstrates the ECG library working with different clinical patterns.</p>
    
    <div>
        <button onclick="generateNormal()">Normal ECG</button>
        <button onclick="generateSTEMI()">STEMI Pattern</button>
        <button onclick="generatePericarditis()">Pericarditis</button>
        <button onclick="exportData()">Export JSON</button>
    </div>
    
    <canvas id="ecg-canvas" width="1200" height="800"></canvas>
    
    <script type="module">
        // Import from the built library
        import { ECGGenerator, ECGRenderer, ECGExporter, ClinicalPatterns } from '../dist/index.mjs';
        
        const canvas = document.getElementById('ecg-canvas');
        const renderer = new ECGRenderer(canvas);
        let currentData = null;
        
        window.generateNormal = function() {
            const generator = new ECGGenerator({ heartRate: 75, duration: 10 });
            currentData = generator.generate();
            renderer.render(currentData);
            console.log('Generated normal ECG');
        };
        
        window.generateSTEMI = function() {
            const config = ClinicalPatterns.getPattern('stemi-anterior');
            const generator = new ECGGenerator(config);
            currentData = generator.generate();
            renderer.render(currentData);
            console.log('Generated STEMI anterior pattern');
        };
        
        window.generatePericarditis = function() {
            const config = ClinicalPatterns.getPattern('pericarditis');
            const generator = new ECGGenerator(config);
            currentData = generator.generate();
            renderer.render(currentData);
            console.log('Generated pericarditis pattern');
        };
        
        window.exportData = function() {
            if (currentData) {
                const json = ECGExporter.toJSON(currentData);
                console.log('ECG Data:', json);
                alert('Check console for exported JSON data');
            } else {
                alert('Generate an ECG first');
            }
        };
        
        // Generate initial ECG
        generateNormal();
    </script>
</body>
</html>